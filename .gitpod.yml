# This configuration file was automatically generated by Gitpod.
# Please adjust to your needs (see https://www.gitpod.io/docs/introduction/learn-gitpod/gitpod-yaml)
# and commit this file to your remote git repository to share the goodness with others.

# Learn more from ready-to-use templates: https://www.gitpod.io/docs/introduction/getting-started/quickstart

image:
    file: .gitpod.Dockerfile

tasks:
  - init: cd backend && mvn clean install -DskipTests=false
  - name: Run Services
    command: docker-compose up -d; 
# Build and Run
  - name: Run Backend Java Springboot
    command: cd backend && mvn spring-boot:run
  - name: Run Frontend ReactJS
    command: cd frontend && npm run start
  - name: Run Storybook
    command: cd frontend && npm run storybook

ports:
    - name: Backend SwaggerUI
      port: 8080
      onOpen: open-preview
    - name: Frontend App
      port: 3000
      onOpen: open-preview
    - name: Frontend Storybook
      port: 6006
      onOpen: open-preview


